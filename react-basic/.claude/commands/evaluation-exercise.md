# 演習評価コマンド

引数: $ARGUMENTS

## 引数の形式

- `トピック名` - トピック全体を評価（例: `rendering`）
- `トピック名/サブトピック名` - 特定のサブトピックのみ評価（例: `rendering/conditional-rendering`）
- 省略 - `src/App.tsx` の import 先から現在のトピックを特定

## 実行手順

1. 引数を解析する
   - `/` を含む場合 → トピック名とサブトピック名に分割
   - `/` を含まない場合 → トピック名のみ（全サブトピックを評価）
   - 省略されている場合 → `src/App.tsx` の import 先から特定
2. 対象ディレクトリを決定する
   - サブトピック指定あり → `src/exercises/[トピック名]/[サブトピック名]/`
   - サブトピック指定なし → `src/exercises/[トピック名]/` 配下の全サブトピック
3. 対象のサブトピックを評価する
4. 評価完了後、`progress.md` を更新する

## 評価対象ファイル

各サブトピックディレクトリから以下を読み込む：

- `README.md` - 課題内容の確認
- `answer.md` - 言語化演習の回答
- `design.md` - 実装演習の設計メモ
- `App.tsx` および `components/` - 実装内容

## 評価方針

### 共通ルール
- 点数評価は行わない
- 評価は複数回実施されるケースもある

### 言語化演習（answer.md の評価）

回答内容を確認し、以下のいずれかの対応を行う：

1. **回答が正しい場合** → その趣旨を追記し完了とする
2. **全体的に正しいが細部が不正確な場合** → 補完した解説を追記し完了とする
3. **回答に漏れがある場合** → 追及する質問を追記し、再回答を促す
4. **回答が大幅に異なる場合** → どこが異なるか明記し、再度学習を促す

### 実装演習（design.md + 実装の評価）

以下を重点的に確認する：

1. **設計メモ（design.md）と実装の整合性**
   - 設計意図と実際のコードが一致しているか
   - 設計で言及した内容が実装に反映されているか

2. **state の置き場所と責務分離**
   - state が適切なコンポーネントに配置されているか
   - 各コンポーネントの責務が明確か

3. **不要な再レンダリング**
   - 再レンダリングが発生しそうな構造になっていないか
   - 最適化の余地があるか（ただし過剰な最適化は不要）

## 出力形式

評価結果は以下の形式で出力する：

```
## [サブトピック名] 評価結果

### 言語化演習
- 評価: [正しい / 概ね正しい / 漏れあり / 要再学習]
- コメント: ...

### 実装演習
- 設計との整合性: ...
- state配置: ...
- 再レンダリング: ...
- コメント: ...
```

## 進捗ファイルの更新

評価完了後、`src/exercises/[トピック名]/progress.md` を更新する。

### 更新ルール

- **言語化演習・実装演習の両方が完了**した場合のみ、該当サブトピックを完了とする
  - `[ ]` → `[x]` に変更
- 片方でも未完了や再学習が必要な場合は、チェックを入れない
  - `[x]` → `[ ]` に戻す（既にチェック済みの場合）

### 完了の判定基準

| 演習種別 | 完了条件 |
|----------|----------|
| 言語化演習 | 評価が「正しい」または「概ね正しい」 |
| 実装演習 | 設計・state配置・再レンダリングに大きな問題がない |

## 注意事項

- answer.md や design.md が空または未記入の場合は、まず回答を記入するよう促す
- 実装がない場合は、言語化演習のみ評価する
- 建設的なフィードバックを心がける
- progress.md が存在しない場合は、更新をスキップする（警告を表示）
