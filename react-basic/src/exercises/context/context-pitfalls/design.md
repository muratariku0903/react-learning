# 設計メモ

## 現状の問題分析

### Contextにどんな値が入っているか

* User情報
* カウンター情報

### 「+1」ボタンクリック時の挙動

* UserInfo
* Counter

### なぜそうなるのか

「+1」ボタンクリックすると、Contextで管理してる状態が変化することで、Contextを購読してるコンポーネントは全て再度レンダリングされるため。

---

## 改善案

### 考えられる解決策

ユーザー情報とカウンター情報をそれぞれ分けたContextで管理し、Userコンポーネントでは、ユーザー情報を管理したContextを購読し、カウンターコンポーネントではカウンター情報を管理したContextを購読する。

### 採用した解決策とその理由

それぞれ購読するContextを分けることによって特定のコンポーネントにのみ関わる影響がそのコンポーネントに限定されるため。
今回の例で言うと、カウンターの操作はユーザー情報コンポーネントには影響を与えなくなる。

---

## 評価コメント

問題の分析と解決策が的確です。「1つのContextに複数の関心事を混ぜる」という元の問題を正しく特定し、「用途別にContextを分離する」という適切な解決策を実装できました。

実装もシンプルで、各Providerが独立して機能するようになっています。これにより、CounterContextの変更がUserContextを購読しているコンポーネントに影響を与えなくなりました。

**完了**
