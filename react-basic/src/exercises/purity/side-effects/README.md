# 副作用の分離

## 目的

この演習では、Reactにおける「副作用」の概念と、それを適切な場所に分離する方法を学びます。
renderとcommitの役割分担を理解し、副作用をどこで実行すべきかを身につけます。

## 要件

### 言語化演習

以下の質問に `answer.md` で回答してください。

1. **副作用とは何か**
   - Reactにおける「副作用」とは何ですか？具体例を3つ以上挙げてください。
   - なぜレンダリング中に副作用を実行してはいけないのですか？

2. **renderとcommitの役割分担**
   - Reactの「render」フェーズと「commit」フェーズの違いを説明してください。
   - それぞれのフェーズで「できること」「やってはいけないこと」を整理してください。

3. **副作用の適切な配置場所**
   - 以下の処理はそれぞれどこに書くべきですか？理由も含めて答えてください。
     - a) `document.title` の変更
     - b) APIからのデータ取得
     - c) ローカルストレージへの保存
     - d) フォーム入力値のバリデーション計算

### 実装演習

`App.tsx` には、副作用がレンダリング中に実行されているアンチパターンのコードがあります。
このコードを修正し、副作用を適切な場所（`useEffect` または イベントハンドラ）に移動してください。

設計方針は `design.md` に記載してから実装してください。

1. 現状のコードでどこが問題なのかを特定する
2. 各副作用をどこに移動すべきか設計する
3. コードを修正する

## 制約条件

- 機能要件（何が行われるか）は維持する
- 副作用の実行タイミングは適切に制御する
- 不要な副作用の重複実行を防ぐ

## ヒント

- `useEffect` は「commit後に実行される」
- イベントハンドラは「ユーザーアクションに応じて実行される」
- 「いつ実行されるべきか」を考えると、適切な配置場所が見えてくる
