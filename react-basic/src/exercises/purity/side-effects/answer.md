# 言語化演習 回答

## 1. 副作用とは何か

### 副作用の定義と具体例

副作用とは、JSX計算処理中（レダーフェーズ）において、コンポーネント外部に存在する情報を参照したり、更新したりすること。

具体例:
1.レンダーフェーズ中にAPI呼び出し
2.レンダーフェーズ中にグローバル変数の情報を参照・更新
3.レンダーフェーズ中にDOM更新

### なぜレンダリング中に副作用を実行してはいけないのか？

レンダリング処理(JSX計算処理)はReactの内部で並列で実行されたり、再実行されたりするので、そうした処理に、外部から影響を受け取り、与えてしまったりすると、予期せぬ不具合が生じるから。  
例えば、レンダリング中にAPI呼び出しを実行すると、二重で実行されるといったことが発生してしまう。

---

## 2. renderとcommitの役割分担

### renderフェーズとcommitフェーズの違い

| フェーズ | 役割 | できること | やってはいけないこと |
|---------|------|-----------|-------------------|
| render  |  JSXを計算    |     propsやstateを活用した純粋な計算      |        副作用が生じる処理           |
| commit  |  render結果を実DOMに反映    |      副作用が生じる処理     |         無条件のstate更新（無限ループのリスク）          |


---

## 3. 副作用の適切な配置場所

### a) `document.title` の変更

配置場所:useEffect
理由:state/propsの内容と同期したい前提で、コミットごとに同期させる必要があるため、

### b) APIからのデータ取得

配置場所:useEffect  
理由:副作用が発生する処理であり、コミットされた直後に実行されるべきだから

### c) ローカルストレージへの保存

配置場所:useEffect
理由:副作用が発生する処理であり、stateにて管理してる値を同期するケースを考慮すると、ステートが更新され、DOMが描画された後に、実行されるべきだから

### d) フォーム入力値のバリデーション計算

配置場所:レンダーフェーズ中（コンポーネント本体での計算）
理由:入力値をステート管理する場合、そのステートの値でバリデーション結果が確定するので、つまりは純粋な計算になるから

---

## 評価コメント

### 言語化演習: 正しい ✅

**良い点:**
- 副作用の定義を「コンポーネント外部への影響」として正確に理解している
- render/commitの役割分担を明確に整理できている
- 特にd)のフォームバリデーションを「純粋な計算」として判断したのは優れた理解

**補足:**
- render/commitの表で「やってはいけないこと」に「無条件のstate更新」を挙げているのは良い観点。useEffect内で依存配列を指定せずにsetStateすると無限ループになる可能性がある
