# 言語化演習 回答

## 1. StrictModeとは何か

### StrictModeの機能

Reactの純粋なコンポーネント実装におけるアンチパターンを早期に検出するために、意図的にレンダリングが２回実施される開発環境特有の機能

### 本番環境での動作について

StrictModeは本番環境で動作する？（いいえ）

理由:
StrictModeの目的はアンチパターンの検出であり、それは開発環境のみで実施するべき。本番環境でそうした検出機能は不要で、また、レンダリングを２回実施すること自体がパフォーマンスの観点でよくない。

---

## 2. 二重レンダリングの目的

### なぜ「あえて2回レンダリングする」のか？

レンダリング時に副作用が発生した際のバグを見つけやすくするため。
例えば、API呼び出しをレンダリング中に実施していた場合、２回レンダリングされることで、何かしら不具合が生じる可能性が高いので、そこでアンチパターンに気づくことができる。

### 検出できる問題の具体例

レンダリング中にAPI呼び出しをしていたが、２回レンダリングされたことによって二重登録されてることに気づき、副作用をレンダリングフェーズから省くことことができた。

---

## 3. 検出されるバグのパターン

### 以下のコードがStrictModeで問題になる理由

```jsx
let count = 0;
function Counter() {
  count++;
  return <p>{count}</p>;
}
```

こちらのコンポーネントはレンダリング中にグローバル変数を更新してしまってるため、StrictModeによって２回更新が入る。そのため、本来であれば、初回時は１がカウントされるはずだが、２とカウントされてしまう。

### StrictModeがなければ、この問題はいつ発覚するか？

実際にシステムをリリースして、ユーザーが様々な操作をした時。

---

## 評価コメント

### 言語化演習: 正しい ✅

**良い点:**
- StrictModeの目的（アンチパターンの早期検出）を正しく理解している
- 本番環境で動作しない理由（パフォーマンス、開発専用機能）を適切に説明
- 二重レンダリングで検出される問題を具体例で説明できている
- 「StrictModeがなければいつ発覚するか」への回答が的確（本番リリース後のユーザー操作時）

**補足:**
- StrictModeが検出するのは「純粋でないコード」だけでなく、「非推奨のライフサイクルメソッド」「レガシーなコンテキストAPI」なども含まれます
- React 18以降では、useEffectのクリーンアップが正しく実装されているかも検証されます（マウント→アンマウント→再マウントのシミュレーション）
