# StrictModeと純粋性の検証

## 目的

この演習では、ReactのStrictModeがどのように純粋性の違反を検出するかを学びます。
開発環境での二重レンダリングの意味を理解し、純粋でないコードがどのような問題を引き起こすかを体感します。

## 要件

### 言語化演習

以下の質問に `answer.md` で回答してください。

1. **StrictModeとは何か**
   - ReactのStrictModeはどのような機能ですか？
   - StrictModeは本番環境でも動作しますか？その理由は？

2. **二重レンダリングの目的**
   - StrictModeが「あえて2回レンダリングする」のはなぜですか？
   - この二重レンダリングで検出できる問題を具体的に説明してください。

3. **検出されるバグのパターン**
   - 以下のコードパターンがStrictModeで問題になる理由を説明してください。
     ```jsx
     let count = 0;
     function Counter() {
       count++;
       return <p>{count}</p>;
     }
     ```
   - もしStrictModeがなければ、この問題はいつ発覚しますか？

### 実装演習

`App.tsx` にはStrictModeで問題が検出されるコンポーネントがあります。

1. まず、コンソールを確認して二重レンダリングの挙動を観察してください
2. 問題のあるコンポーネントを特定してください
3. 問題を修正し、StrictModeでも正常に動作するようにしてください

設計方針は `design.md` に記載してから実装してください。

### 観察ポイント

修正前後で以下を比較してください：
- コンソールの出力内容
- 画面に表示される値
- レンダリング回数と結果の関係

## 制約条件

- StrictModeを無効にして回避することは禁止
- 機能要件は維持する

## ヒント

- 純粋なコンポーネントは「何回レンダリングしても同じ結果」になる
- 外部の変数を変更するコードは、レンダリング回数に依存した結果になる
- stateを使えば、Reactが適切に管理してくれる
