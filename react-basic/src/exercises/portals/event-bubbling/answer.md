# 言語化演習 回答

## Q1. バブリングの基準

### コンソールの出力順序

最初に、button要素のコンソールが出力され、次に、親要素のdivのコンソールが出力される。  


### なぜそうなるのか

Modalコンポーネントの描画先はdocument.bodyになるが、Reactツリー上はdiv配下になるので、divに対してイベントバブリングすることになる。



## Q2. DOM上の位置とReactツリーの違い

### DOM上のModalの位置

DOM上では、Modalはdocument.body上に存在する


### Reactツリー上のModalの位置

親要素であるdiv上に存在する


### この違いを意識することが重要な理由

PortalはDOM上では`document.body`配下に描画される一方、Reactツリー上では元の親コンポーネントの子として扱われる。
そのため、クリックなどのイベントのバブリング（Reactの合成イベントの伝播）はDOMの見た目の親子関係ではなく、Reactツリーに沿って起きる。
DOM上で離れているように見えても親のハンドラが反応し得るので、この違いを理解しておくと意図しないイベント発火を避けて設計できる。

---

## 評価コメント

### Q1について
正しい理解です。出力順序と理由の両方を正確に説明されています。

### Q2について
DOM上の位置とReactツリー上の位置の違いを明確に説明されており、その違いを意識する実用的な理由（意図しないイベント発火の回避）も述べられています。

**完了とします。**
