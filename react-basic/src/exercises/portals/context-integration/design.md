# 設計メモ

## Portal化による変更点

### 変更するファイル

* Modal.tsx
  * Portalを使う実装に変更


## Contextの動作確認

### Portal化後のContextの動作

Portal化前と変わらず、Contextを参照できている


### なぜその結果になったのか

Contextの解決はReactツリー（どのProviderに包まれているか）で決まり、DOM上の配置先とは無関係なため


## 追加課題: モーダル内からのテーマ切り替え

### 実装方針

* 切り替えボタン追加
* モーダルがテーマ切り替えのイベントハンドラを受けとる
* 切り替えボタン押下時に、イベントハンドラを実行

---

## 評価コメント

設計と実装の整合性は良好です。Portal化してもContextが正しく機能することを確認し、その理由も正確に考察されています。

追加課題について、`onChangeTheme`をprops経由で渡す設計は適切です。代替案として、Modal内で直接`useTheme`フックを使う方法もあります。どちらも正しいアプローチですが、今回の実装は「Modalコンポーネント自体はテーマを知らなくてもよい」という責務分離の観点で良い設計です。

**完了とします。**
