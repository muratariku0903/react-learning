# stopPropagationとpreventDefaultの組み合わせ

## 目的

`stopPropagation()` と `preventDefault()` の違いを明確に理解し、実際のUIで両方を適切に使い分けられるようになる。

---

## 言語化演習

以下の質問に `answer.md` で回答してください。

### Q1. 両者の違いを整理する

`stopPropagation()` と `preventDefault()` の違いについて、以下の観点で比較してください。

- 何を止めるのか
- 親要素への影響
- 使用する典型的な場面

### Q2. 両方を使うケース

以下のコードで `stopPropagation()` と `preventDefault()` の両方を使っています。

```tsx
<div onClick={closeModal}>
  <a
    href="/settings"
    onClick={(e) => {
      e.preventDefault();
      e.stopPropagation();
      openSettingsInModal();
    }}
  >
    設定
  </a>
</div>
```

それぞれのメソッドを呼ばなかった場合、どのような問題が起きるか説明してください。

---

## 実装演習

`App.tsx` には、ドロップダウンメニューを持つナビゲーションバーがあります。以下の要件を満たすように修正してください。

### 現状の問題

1. メニュー項目（リンク）をクリックすると、ページ遷移してしまう
2. メニュー項目をクリックすると、ドキュメント全体のクリックイベントが発火してメニューが閉じてしまう（本来はリンクをクリックした後にメニューを閉じたいが、遷移処理の前に閉じてしまう）
3. 「ダッシュボード」リンクは通常のページ遷移をさせたいが、それ以外のリンクはSPA的に処理したい

### 要件

1. 「プロフィール」「設定」リンクをクリックしたとき：
   - ページ遷移しない
   - メニューを閉じる前にコンソールに遷移先を表示する
   - その後メニューを閉じる
2. 「ダッシュボード」リンクは通常のページ遷移を許可する（何も止めない）
3. メニューの外側をクリックしたときはメニューが閉じる（現在の動作を維持）
4. 設計意図を `design.md` に記述すること

### ヒント

- どのリンクで何を止めるべきか、それぞれ異なります
- 「止める」と「止めない」を条件分岐で制御することも考えてみましょう
