## 従来パターンの問題点
ローディング状態の制御がコンポーネントごとにされており、今後、非同期のコンポーネントが増えた際に、毎度同じ処理を制御をしなければいけないので、保守性が低下する。  
また、コンポーネント内で状態制御に関わる分岐処理がされているため、可読性も低い。

## Suspense対応にするために何を変更する必要があるか
* コンポーネント外で、wrapPromiseを実行し、Suspense用のリソース（SuspenseResource）を生成
* データフェッチしてる箇所をuseEffectからSuspenseResourceを活用した方式に変換し、Promiseをスロー
* UserProfileコンポーネントをSuspenseでラップしPromiseを検知し、ローディングコンポーネントを表示

---
## 評価コメント

✅ 設計と実装が一致しています。特に「コンポーネント外でリソースを生成する」という点は重要で、レンダリングのたびに新しいリソースが作られることを防いでいます。

補足: 現在の実装ではリソースがモジュールレベルで1回だけ生成されるため、ページをリロードしない限り再取得されません。実際のアプリケーションでは、ユーザーアクションに応じて再取得する仕組みが必要になります（TanStack Queryなどのライブラリがこれを担います）。
