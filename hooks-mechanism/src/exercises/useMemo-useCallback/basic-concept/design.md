## なぜカウンターの変更でフィルタリングが再実行されるのか
ステップが変わるとレンダリングが開始され、コンポーネント内部で直接呼び出している関数は再実行される。今回でいうと、filterItemsは特にメモ化されていないので、そのまま再度実行されます。

## useMemoを使ってどう最適化するか
FilterItemsをメモ化します。依存配列として、filterItemsは計算にqueryを必要とするので、依存配列としてqueryを設定します。こうすることによって、queryが変わったときのみ再度filterItemsを実行するようにします。

---

> **✅ 実装演習 評価: 完了** - 設計の方針と実装が一致しています。「countの変更でレンダリングが走り、メモ化されていない関数が再実行される」という問題の特定、「useMemoでqueryを依存配列にしてキャッシュする」という解決策、いずれも正確です。実装も `useMemo(() => filterItems(query), [query])` と設計通りに反映されており、問題ありません。
