# 言語化演習 回答

## 1. 3つのuseEffectの実行タイミングの違い

**回答：**

パターンAの場合は、マイレンダリング後とコミット時に必ず実行されます。パターンBは、初回のレンダリング時のコミット後に1回だけ実行されます。パターンCは、countというステートが変更したときにレンダリングのコミット後に実行されます。

> **✅ 評価: 概ね正しい** - 3つのパターンの違いを正しく理解しています。

---

## 2. 空配列が「マウント時1回」になる理由

**回答：**
UseEffectではマウント時に1回実行されるのですが、それ以降の実行するかしないかについては、依存配列に設定した値と前回の値で差分があるかないかを比較し、差分があった場合のみ実行することになります。空配列を指定した場合は、前回も空配列であり、今回も空配列が設定されているということで、そういった意味では同じ値というふうに見なされるので、結果的に最初のマウント時の1回だけ実行されることになります。

> **✅ 評価: 概ね正しい** - 依存配列の比較ロジックから空配列の挙動を説明できています。補足として、比較は配列そのものではなく、配列の**各要素**を`Object.is`で1つずつ比較します。空配列は要素が0個なので比較対象が存在せず、「すべての要素が前回と同じ」と判定されます。その結果、初回以降は再実行されないということです。


---

## 3. ESLint警告の理由と無視した場合の問題

**回答：**
UseEffectの中で呼び出されているAPIは、外部から渡されてくるクエリに依存している処理にもかかわらず、useEffectの依存配列にクエリという変数が設定されていないというのが問題です。設定していないと初回だけ実行されることになり、外部から渡ってくるクエリが変更されているにもかかわらず、APIを再実行しないという挙動になってしまいます。そうした挙動を警告する意味で、ESLintが警告をしている状態です。

> **✅ 評価: 正しい** - effect内で使用している値が依存配列に含まれていない問題、そしてその結果queryが変更されてもAPIが再実行されないという問題を的確に説明できています。

