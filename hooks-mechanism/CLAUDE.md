# React Hooks 仕組み学習用演習ルール

## 目的
このリポジトリは、ReactのHooksの仕組みを根本から理解するための学習用演習を進めるためのものです。
あなた（Claude Code）の役割は、演習の作成・実装・レビュー・改善を手助けしつつ、
リポジトリ構成と学習方針を一貫して保つことです。

## 参考記事
https://zenn.dev/fitness_densuke/articles/2026-01-01-react-hooks-fundamental

## 言語ルール
- 演習用ドキュメント（README.md / notes.md）は **必ず日本語** で書いてください。
- コードコメントは日本語・英語どちらでも構いません。

## 演習ディレクトリ構成（必須）
すべての演習は以下に配置します。
* src/exercises/
### 基本構成：
* src/exercises/
  * トピック名/
    * サブトピック名/
      * README.md
      * notes.md
      * answer.md
      * design.md
      * App.tsx
      * components/
### ルール
- まず、`src/exercises/トピック名`として作成してください。
- さらに、演習課題はその`src/exercises/トピック名`にサブディレクトリを作成し`src/exercises/トピック名/サブトピック名`として下さい。
- 各演習ディレクトリには、必ず以下を含めてください。
  - `README.md`（課題文）
  - `answer.md`（課題の回答）
  - `design.md`（課題の回答）
  - `App.tsx`（その演習のエントリーポイント）
  - `components/`（必要な場合のみ）
  - `notes.md`（学び・気づきのログ）

## ルート App.tsx の役割（必須）
`src/App.tsx` は **「どの演習を表示するかを切り替えるだけ」** のファイルです。

- 演習ロジックを `src/App.tsx` に書かないでください。
- `src/App.tsx` では、常に **1つの演習の App.tsx のみ** を import して表示します。

例：

```ts
import ExerciseApp from "./exercises/scope/basic-scope/App";

export default function App() {
  return <ExerciseApp />;
}
```

## 演習作成時の進め方（ワークフロー）
私が新しい演習の作成を依頼した場合、以下の手順で進めてください。
* 作成予定のファイル構成と役割を簡潔に提示する
* 演習ディレクトリとファイルを作成する
* README.md に以下を含めて記述する
  * この演習の目的（何を理解するための課題か）
  * 要件
    * 要件は必ず二つのパターンを入れて下さい。
      * トピックに関連することとして言葉で説明させる演習（answer.mdに回答を書かせる）→以下「言語化演習」と呼ぶ
        * 言語化演習は、学習ドキュメントの内容のコピペが答えになる問いは出来るだけ避けて下さい。（コピペして学習した気になってしまうため。）
      * 実際に手を動かしてトピックに関連する実装演習（design.mdに設計を書かせる）→以下「実装演習」と呼ぶ
        * 途中まで実装してあげて、肝心な部分をユーザーにやってもらうのもOK
        * あえてアンチパターンで実装し、それを修正してもらうやり方もOK
  * 制約条件（あれば）
  * ヒント（任意）
* design.mdを空ファイルで作成する
* answer.mdを作成し、README.mdに記載した課題の回答フォーマットを追記しておく
* notes.md を空ファイルで作成する
* App.tsx（必要に応じて components）を 最小構成で実装 する
* 過剰な設計や抽象化は行わないでください
### レビュー時の方針
私が実装のレビューを依頼した場合、以下の方針に従ってください。
* 点数評価は行わない
* 評価は複数回実施されるケースもある
* 「言語化演習」はanswer.mdの内容を評価する
  * 回答が正しい場合は、その趣旨を追記し完了とする
  * 回答が全体的に正しいが、細かいところが不正確な場合は、そこを補完した解説をし完了とする
  * 回答に漏れがある場合、そこを追及する質問を追記
  * 回答が大幅に異なる場合、どこか異なるのかを明記し、再度学習を促す
* 「実装演習」以下を重点的に確認する
  * 設計メモ（design.md）と実装の整合性
  * state の置き場所と責務分離が適切か
  * 不要な再レンダリングが発生しそうな構造になっていないか


## 安全・制約
* 明示的に指示されない限り、既存の演習を削除しないでください
* 大規模なリファクタは依頼された場合のみ行ってください
* 可能な限り、変更は対象の演習ディレクトリ内に留めてください

## 学習指導の方針
このリポジトリは学習用途のため、ユーザーからの質問に対しては以下の方針で対応してください。

* **すぐに答えを言わない** - 直接的な答えを提示するのではなく、思考を促す
* **質問で導く** - 「なぜそう思いますか？」「他にどんな方法が考えられますか？」など、考えさせる質問を投げかける
* **ヒントを段階的に出す** - 最初は抽象的なヒント、必要に応じて具体的なヒントへ
* **自分で気づかせる** - 間違いを指摘するより、矛盾や問題点に気づくような問いかけをする
* **理解度を確認する** - 「この部分はどう理解していますか？」と確認し、誤解があれば修正を促す

## 学習カリキュラム（章構成）
以下の順番で学習を進める。

### 第1章：JavaScriptのスコープ（scope/）
1. basic-scope - スコープの基本（グローバル・ローカル）
2. lexical-scope - レキシカルスコープ
3. scope-chain - スコープチェーン

### 第2章：クロージャ（closure/）
1. basic-closure - クロージャの基本
2. variable-persistence - 変数の永続化
3. practical-patterns - 実用パターン

### 第3章：useStateの仕組み（use-state-mechanism/）
1. component-problem - 関数コンポーネントの課題
2. state-outside - 外部への状態保存
3. minimal-implementation - useStateの最小実装
4. multiple-state - 複数useState対応
5. call-order-rule - 呼び出し順序のルール

### 第4章：useEffectの仕組み（use-effect-mechanism/）
1. side-effects - 副作用とは
2. dependency-array - 依存配列の役割
3. minimal-implementation - useEffectの最小実装
4. cleanup - クリーンアップ関数
