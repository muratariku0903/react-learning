# 演習1-1: App Router構造の理解

## 目的
Next.js App Router の基本構造を理解する。
`layout.tsx` と `page.tsx` の役割の違い、Nested Layout の仕組みを、実際に手を動かして体得する。

---

## 言語化演習（answer.md に回答を記入）

### Q1: layout.tsx と page.tsx の違い
以下のディレクトリ構成があるとする:
```
app/
├── layout.tsx    ... (A)
├── page.tsx      ... (B)
└── about/
    ├── layout.tsx ... (C)
    └── page.tsx   ... (D)
```

ユーザーが `/about` にアクセスしたとき、(A)(B)(C)(D) のうちどれがレンダリングされるか？
また、その **レンダリングの親子関係（入れ子構造）** を図示して説明せよ。

### Q2: Nested Layout が存在する理由
「全ページに共通のヘッダーを出したいだけなら、普通にコンポーネントとして import すればいいのでは？」
という意見に対して、Nested Layout を使うべき理由を **再レンダリングの観点** から反論せよ。

### Q3: layout.tsx の特性
`layout.tsx` はページ遷移時に再レンダリングされるか、されないか？
その理由を、React の状態保持の仕組みと絡めて説明せよ。

---

## 実装演習（design.md に設計を書いてから実装）

### 課題: 3階層のNested Layoutを持つページ群を作成する

以下の構造を完成させよ:

```
exercises/layer01-basics/01-app-router/
├── layout.tsx          → 演習全体の共通レイアウト（ナビゲーション付き）
├── page.tsx            → トップページ（「ホーム」）
├── dashboard/
│   ├── layout.tsx      → ダッシュボード用レイアウト（サイドバー付き）
│   ├── page.tsx        → ダッシュボードのメインページ
│   └── settings/
│       └── page.tsx    → 設定ページ
└── profile/
    └── page.tsx        → プロフィールページ
```

### 要件
1. **最上位 layout.tsx**: ページ上部にナビゲーションバーを配置し、「ホーム」「ダッシュボード」「プロフィール」へのリンクを表示
2. **dashboard/layout.tsx**: 左側にサイドバーを配置し、「ダッシュボード」「設定」へのリンクを表示
3. **各 page.tsx**: そのページが何であるかわかるテキストを表示
4. ページ遷移時に **layout.tsx が再マウントされない** ことを確認する方法を考え、実装に組み込むこと

### ヒント
- `layout.tsx` が再マウントされないことを確認するには、`layout.tsx` 内に何か「状態」を持たせると分かりやすい
- Next.js の `<Link>` コンポーネントを使うこと（`<a>` タグではなく）

### 現在の状態
`page.tsx` と `layout.tsx` の骨格だけ用意してあります。要件を満たすように実装を完成させてください。
